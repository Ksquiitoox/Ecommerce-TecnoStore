

  nav.appendChild(ul);

  
  navbarContainer.appendChild(nav);

  // Saludo si estÃ¡ logueado
  if (usuarioLogueado) {
    const saludo = document.createElement("span");
    saludo.textContent = `ðŸ‘‹ Hola, ${usuarioLogueado.nombre}`;
    saludo.style.marginLeft = "15px";
    saludo.style.fontWeight = "bold";
    saludo.style.color = "#38bdf8";
    logoDiv.appendChild(saludo);
  }

  // Contador del carrito
  const cartCountSpan = document.getElementById("cart-count");
  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const count = cart.reduce((sum, item) => sum + item.quantity, 0);
    if (cartCountSpan) cartCountSpan.textContent = count;
  }
  updateCartCount();
  window.addEventListener("cartUpdated", updateCartCount);

  // Logout
  const logoutBtn = document.getElementById("logoutBtn");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", (e) => {
      e.preventDefault();
      localStorage.removeItem("usuarioLogueado");
      localStorage.removeItem("cart");
      alert(`Cerraste sesiÃ³n correctamente, hasta la prÃ³xima ðŸ‘‹`);
      // llevamos siempre al login
      window.location.href = "/pages/Login.html";
    });
  }

  
});
